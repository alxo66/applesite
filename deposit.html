<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Пополнение баланса</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Пополнение баланса</h1>

<p>
  Выберите криптовалюту и отправьте средства на указанный адрес.
  После подтверждения в сети баланс будет зачислен автоматически.
</p>

<div class="card" id="rates">
  <h2>Актуальные курсы</h2>
  <p id="ratesText">Загрузка...</p>
</div>

<div class="card">
  <h2>Кошельки</h2>

  <div class="wallet">
    <strong>BTC</strong><br>
    bc1qlgf034j5nhqh0ltsqnhrepchlxwlykrtujvupq
  </div>

  <div class="wallet">
    <strong>ETH</strong><br>
    0x5Fc25f19E18Dfc7d19595cB7d1eB0D0605b9A3FA
  </div>

  <div class="wallet">
    <strong>USDT</strong><br>
    TMM1xGXxAY9R66hGPxKNfxo81KrmdyrszE
  </div>

  <div class="wallet">
    <strong>TON</strong><br>
    UQD-XSYf6P-NyjbSJYDHsgHnk0e5CiJQ2-NCZddro_5-c8B4
  </div>
</div>

<p id="error" style="color:red;"></p>

<script src="frontend/api.js"></script>
<script>
(async () => {
  try {
    const data = await apiFetch("/rates");
    document.getElementById("ratesText").innerText =
      `BTC: ${data.BTC} ₽ | ETH: ${data.ETH} ₽ | USDT: ${data.USDT} ₽ | TON: ${data.TON} ₽`;
  } catch {
    document.getElementById("error").innerText =
      "Ошибка загрузки данных. Проверь backend.";
  }
})();
</script>

</body>
</html>
