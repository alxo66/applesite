<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Личный кабинет</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: -apple-system;
  background: #f5f5f7;
}
.wrap {
  max-width: 1000px;
  margin: 40px auto;
}
.card {
  background: #fff;
  padding: 24px;
  border-radius: 16px;
  margin-bottom: 20px;
}
</style>
</head>

<body>
<div class="wrap">

<div class="card">
<h2>Баланс</h2>
<div id="balance"></div>
<div id="reserved"></div>
</div>

<div class="card">
<h2>История пополнений</h2>
<ul id="deps"></ul>
</div>

<div class="card">
<h2>Заказы</h2>
<ul id="orders"></ul>
</div>

</div>

<script>
async function load() {
  const r = await fetch(
    "https://applestore-backend-production.up.railway.app/api/cabinet"
  );
  const d = await r.json();

  balance.innerText = "Баланс: $" + d.balance;
  reserved.innerText = "В резерве: $" + d.reserved;

  deps.innerHTML = d.deposits.map(
    x => `<li>${x.amount} ${x.asset} — ${x.status}</li>`
  ).join("");

  orders.innerHTML = d.orders.map(
    o => `<li>${o.product} — ${o.status}</li>`
  ).join("");
}
load();
</script>
</body>
</html>
